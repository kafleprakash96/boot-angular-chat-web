<div class="room-container">
  <mat-card class="room-header">
    <h2>{{ room?.name }}</h2>
    <p class="room-owner">Owner: {{ room?.createdBy }}</p>
  </mat-card>

  <div class="chat-container" #messageContainer>
    <div
      *ngFor="let message of messages"
      class="message-wrapper"
      [ngClass]="{ 'own-message': isOwnMessage(message), 'incoming-message': !isOwnMessage(message) }"
      (mouseenter)="showReactions(message)"
      (mouseleave)="hideReactions(message)"
    >
      <div class="message-content">
        <p>{{ message.content }}</p>
        <small class="sender-info">{{ message.sender }}</small>
      </div>
      <div
        class="reactions"
        *ngIf="message.showReactions"
      >
        <button
          mat-mini-fab
          *ngFor="let reaction of reactionTypes"
          (click)="addReaction(message, reaction)"
          aria-label="Add Reaction"
        >
          {{ getReactionEmoji(reaction) }}
        </button>
      </div>
    </div>
  </div>

  <div class="input-container">
    <mat-form-field class="input-field" appearance="outline">
      <textarea
        matInput
        [formControl]="messageInput"
        placeholder="Type a message..."
        rows="2"
      ></textarea>
    </mat-form-field>
    <button
      mat-raised-button
      color="primary"
      (click)="sendMessage()"
      aria-label="Send Message"
    >
      Send
    </button>
  </div>
</div>
