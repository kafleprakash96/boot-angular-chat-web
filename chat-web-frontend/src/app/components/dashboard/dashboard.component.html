<div class="app-container">
  <app-header
    [isLoggedIn]="true"
    (toggleSidenav)="sidenav.toggle()"
  ></app-header>

  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav mode="side" class="sidenav">
      <app-side-menu></app-side-menu>
    </mat-sidenav>
    <mat-sidenav-content>
      <div class="dashboard-container">
        <div class="content-wrapper">
          <mat-tab-group
            [(selectedIndex)]="selectedTab"
            (selectedIndexChange)="onTabChange($event)"
            class="tab-container"
          >
            <mat-tab label="Chat Rooms">
              <div class="dashboard-header">
                <h1>Chat Rooms</h1>
                <div class="dashboard-actions">
                  <button
                    mat-raised-button
                    color="primary"
                    (click)="createRoom()"
                  >
                    <mat-icon>add</mat-icon>
                    Create Room
                  </button>
                </div>
              </div>
              <div class="rooms-grid">
                <app-room-card
                  *ngFor="let room of rooms"
                  [room]="room"
                ></app-room-card>
              </div>
            </mat-tab>

            <mat-tab label="Posts">
              <div class="dashboard-header">
                <h1>Posts</h1>
                <div class="dashboard-actions">
                  <button
                    mat-raised-button
                    color="primary"
                    (click)="createPost()"
                  >
                    <mat-icon>add</mat-icon>
                    Create Post
                  </button>
                </div>
              </div>
              <div class="rooms-grid">
                <app-post-card
                  *ngFor="let post of posts"
                  [post]="post"
                  (like)="likePost($event)"
                  (comment)="addComment($event.postId, $event.content)"
                ></app-post-card>
              </div>
            </mat-tab>
          </mat-tab-group>
          <app-side-user class="side-user"></app-side-user>
        </div>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
